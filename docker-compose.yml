version: '3.4'

services:
  buildingconstructapi:
    image: ${DOCKER_REGISTRY-}buildingconstructapi
    ports:
          - "8080:80"
          #- "8081:433"
    build:
      context: .
      dockerfile: BuildingConstructApi/Dockerfile
    depends_on:
          - db
    networks:
        - app-network

  db:
        image: "mcr.microsoft.com/mssql/server:2019-latest"
        ports:
          - "1455:1433"
        environment:
            SA_PASSWORD: "Admin@123"
            ACCEPT_EULA: "Y"
        networks:
            - app-network

  #ngnix:
  #      image: nginx:stable-alpine
  #      volumes:
  #          - ./nginx/nginx.conf:/etc/nginx.conf
  #      ports:
  #          - 3000:80
  #      restart: unless-stopped
  #      depends_on:
  #          - buildingconstructapi
  #      networks:
  #          - app-network


networks:
    app-network :
        driver: bridge




